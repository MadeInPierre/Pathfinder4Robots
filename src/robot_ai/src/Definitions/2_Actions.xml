<actions>
	<!---->
	<!-- Action List : load module. 
    		params : 
    		- position (position object) : position where the module is. Position origin must be 'robot_origin_modulegripper' -->
	<action ref="load_module">
		<params>
			<param id="position"/>
		</params>
		<conditions>
			<chest ref = "robot_chest_modules" qty_left_min = "1" />
		</conditions>
		<actions>
			<actionlist name = "Search and Load module" exec = "linear" success="all">
				<order ref = "wheels_goto">
					<param id="position"/>
				</order>
				<action ref="takein_module"/>
			</actionlist>
		</actions>
	</action>

	<!-- Action goup : sucks a module in and loads it in the robot's module chest
			No params, this only plays the load routine without moving the robot.-->
	<action ref="takein_module">
		<!-- The robot is already positioned, take it in -->
		<params>
		</params>
		<conditions>
			<chest ref = "robot_chest_modules" qty_left_min = "1" />
			<position type = "waypoint" ref = "unload_zone_1a"/>
		</conditions>
		<actions>
			<order value = "actuator_open">
				<param id="module_ID">
					<ID>2</ID>
				</param>
			</order>
			<order value = "delay">
				<param id="time">
					<time>1.5</time>
				</param>
			</order>
			<order value = "actuator_close">
				<ID>1</ID>
			</order>
		</actions>
	</action>


	<action name="Wait for jack pullup..." ref="wait_for_jack">
		<params></params>
		<conditions></conditions>
		<actions>
			<actionlist exec="linear" success="all">
				<order ref="wait_for_jack"/>
				<order ref="timer_start"/>
			</actionlist>
		</actions>
	</action>
</actions>
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<diagram program="umlet" version="14.2">
  <help_text>// To modify this UML description file, download the open-source UMLet software.
// Uncomment the following line to change the fontsize and font:
fontsize=16
fontfamily=SansSerif //possible: SansSerif,Serif,Monospaced

++
//////////////////////////////////////////////////////////////////////////////////////////////
// Welcome to UMLet!
//
// Double-click on elements to add them to the diagram, or to copy them
// Edit elements by modifying the text in this panel
// Hold Ctrl to select multiple elements
// Use Ctrl+mouse to select via lasso
//
// Use +/- or Ctrl+mouse wheel to zoom
// Drag a whole relation at its central square icon
//
// Press Ctrl+C to copy the whole diagram to the system clipboard (then just paste it to, eg, Word)
// Edit the files in the "palettes" directory to create your own element palettes
//
// Select "Custom Elements &gt; New..." to create new element types
//////////////////////////////////////////////////////////////////////////////////////////////


// This text will be stored with each diagram;  use it for notes.</help_text>
  <zoom_level>5</zoom_level>
  <element>
    <id>UMLFrame</id>
    <coordinates>
      <x>220</x>
      <y>175</y>
      <w>685</w>
      <h>1030</h>
    </coordinates>
    <panel_attributes>ai
--
bg=light_gray</panel_attributes>
    <additional_attributes/>
  </element>
  <element>
    <id>UMLFrame</id>
    <coordinates>
      <x>930</x>
      <y>175</y>
      <w>290</w>
      <h>165</h>
    </coordinates>
    <panel_attributes>memory
--
bg=light_gray</panel_attributes>
    <additional_attributes/>
  </element>
  <element>
    <id>UMLFrame</id>
    <coordinates>
      <x>1245</x>
      <y>175</y>
      <w>290</w>
      <h>165</h>
    </coordinates>
    <panel_attributes>feedback
--
bg=light_gray</panel_attributes>
    <additional_attributes/>
  </element>
  <element>
    <id>UMLFrame</id>
    <coordinates>
      <x>930</x>
      <y>365</y>
      <w>290</w>
      <h>165</h>
    </coordinates>
    <panel_attributes>perception
--
bg=light_gray</panel_attributes>
    <additional_attributes/>
  </element>
  <element>
    <id>UMLFrame</id>
    <coordinates>
      <x>1245</x>
      <y>365</y>
      <w>290</w>
      <h>165</h>
    </coordinates>
    <panel_attributes>movement
--
bg=light_gray</panel_attributes>
    <additional_attributes/>
  </element>
  <element>
    <id>UMLFrame</id>
    <coordinates>
      <x>930</x>
      <y>555</y>
      <w>290</w>
      <h>165</h>
    </coordinates>
    <panel_attributes>navigation
--
bg=light_gray</panel_attributes>
    <additional_attributes/>
  </element>
  <element>
    <id>UMLPackage</id>
    <coordinates>
      <x>240</x>
      <y>205</y>
      <w>360</w>
      <h>980</h>
    </coordinates>
    <panel_attributes>scheduler
--
*Description*
This is where the user gives the actions the robot has to 
execute. They are defined with XML files located in
/robot_ai/Defintions./

The AI then sends orders the the other packages 
accordingly, and adapts to eventual errors thanks to 
the strategy set by the user.






-
*Classes*


















































































--
*Topics*
Subscriptions :
/  - /game_timer/

Publisher to :
/  - none/
--
*Services*
TODO

bg=white
layer=3
valign=top
halign=left
transparency=50</panel_attributes>
    <additional_attributes/>
  </element>
  <element>
    <id>UMLPackage</id>
    <coordinates>
      <x>615</x>
      <y>655</y>
      <w>70</w>
      <h>55</h>
    </coordinates>
    <panel_attributes>execution?
--
TODO see if 
needed
halign=left
valign=top
bg=white
layer=3</panel_attributes>
    <additional_attributes/>
  </element>
  <element>
    <id>UMLPackage</id>
    <coordinates>
      <x>615</x>
      <y>205</y>
      <w>270</w>
      <h>435</h>
    </coordinates>
    <panel_attributes>timer
--
*Description*
This (small) package smiply keeps track of the time
spent since the game started.

It is triggered by an AI Order.
The node publishes the current time, time left for the game 
and whether the game is finished or not to the topic
/ /game_timer (msg : robot_ai_timer/msg/ai_timer.msg)/







-
*Classes*


























--
*Topics*
Publisher to :
/  - /game_timer/

bg=white
layer=3
valign=top
halign=left
transparency=50</panel_attributes>
    <additional_attributes/>
  </element>
  <element>
    <id>UMLPackage</id>
    <coordinates>
      <x>1030</x>
      <y>200</y>
      <w>75</w>
      <h>75</h>
    </coordinates>
    <panel_attributes>body
--
Keeps track of 
the content of a 
robot.

valign=top
halign=left
bg=white
layer=3</panel_attributes>
    <additional_attributes/>
  </element>
  <element>
    <id>UMLPackage</id>
    <coordinates>
      <x>945</x>
      <y>200</y>
      <w>75</w>
      <h>75</h>
    </coordinates>
    <panel_attributes>map
--
Keeps track of
The map with
dynamic objects,
trajectories,
tracking and
cynamic entities

valign=top
halign=left
bg=white
layer=3</panel_attributes>
    <additional_attributes/>
  </element>
  <element>
    <id>UMLPackage</id>
    <coordinates>
      <x>1435</x>
      <y>205</y>
      <w>75</w>
      <h>75</h>
    </coordinates>
    <panel_attributes>logger
--
Package that
listens to all 
important nodes
to log.

valign=top
halign=left
bg=white
layer=3</panel_attributes>
    <additional_attributes/>
  </element>
  <element>
    <id>UMLPackage</id>
    <coordinates>
      <x>1350</x>
      <y>205</y>
      <w>75</w>
      <h>75</h>
    </coordinates>
    <panel_attributes>display
--
Onboard display
on the robot for
debugging
purposes.

valign=top
halign=left
bg=white
layer=3</panel_attributes>
    <additional_attributes/>
  </element>
  <element>
    <id>UMLPackage</id>
    <coordinates>
      <x>1265</x>
      <y>205</y>
      <w>75</w>
      <h>75</h>
    </coordinates>
    <panel_attributes>server
--
Runs a GUI web
server 
accessible for 
debugging and 
visualization.
valign=top
halign=left
bg=white
layer=3</panel_attributes>
    <additional_attributes/>
  </element>
  <element>
    <id>UMLPackage</id>
    <coordinates>
      <x>1130</x>
      <y>390</y>
      <w>75</w>
      <h>55</h>
    </coordinates>
    <panel_attributes>lidar
--
Connects to
a lidar and 
publishes the 
points to a topic.
valign=top
halign=left
bg=white
layer=3</panel_attributes>
    <additional_attributes/>
  </element>
  <element>
    <id>UMLPackage</id>
    <coordinates>
      <x>945</x>
      <y>390</y>
      <w>90</w>
      <h>120</h>
    </coordinates>
    <panel_attributes>recognizer
--
Holds recognition
algorithms.

When asked to
recognize a 
map object, 
decides which
perception modules
to listen to and 
applies the right
algorithm.

halign=left
valign=top
bg=white
layer=3</panel_attributes>
    <additional_attributes/>
  </element>
  <element>
    <id>UMLPackage</id>
    <coordinates>
      <x>1265</x>
      <y>390</y>
      <w>75</w>
      <h>120</h>
    </coordinates>
    <panel_attributes>wheels
--
Communicates
with the 
pathfinder.

Controls the
robot's wheels.

halign=left
valign=top
bg=white
layer=3</panel_attributes>
    <additional_attributes/>
  </element>
  <element>
    <id>UMLPackage</id>
    <coordinates>
      <x>1350</x>
      <y>390</y>
      <w>75</w>
      <h>120</h>
    </coordinates>
    <panel_attributes>actuators
--
Connects to
an arduino 
dedicated to 
actuators and
executes the
service 
commands.
halign=left
valign=top
bg=white
layer=3</panel_attributes>
    <additional_attributes/>
  </element>
  <element>
    <id>UMLPackage</id>
    <coordinates>
      <x>1435</x>
      <y>390</y>
      <w>75</w>
      <h>120</h>
    </coordinates>
    <panel_attributes>robotarm
--
Controls a 
robot arm.
halign=left
valign=top
bg=white
layer=3</panel_attributes>
    <additional_attributes/>
  </element>
  <element>
    <id>UMLPackage</id>
    <coordinates>
      <x>950</x>
      <y>580</y>
      <w>75</w>
      <h>110</h>
    </coordinates>
    <panel_attributes>localizer
--
Listens to 
all perception
modules and 
figures out
where the robot 
is.
halign=left
valign=top
bg=white
layer=3</panel_attributes>
    <additional_attributes/>
  </element>
  <element>
    <id>UMLPackage</id>
    <coordinates>
      <x>1035</x>
      <y>580</y>
      <w>75</w>
      <h>110</h>
    </coordinates>
    <panel_attributes>pathfinder
--
Gets a map grid
from the map 
package and 
returns a path 
(if possible)
from point A 
to B.
halign=left
valign=top
bg=white
layer=3</panel_attributes>
    <additional_attributes/>
  </element>
  <element>
    <id>UMLPackage</id>
    <coordinates>
      <x>1120</x>
      <y>580</y>
      <w>75</w>
      <h>110</h>
    </coordinates>
    <panel_attributes>armfinder
--
Gives the path 
with speeds the
arm has to 
follow (avoids 
obstacles).

halign=left
valign=top
bg=white
layer=3</panel_attributes>
    <additional_attributes/>
  </element>
  <element>
    <id>UMLPackage</id>
    <coordinates>
      <x>1130</x>
      <y>455</y>
      <w>75</w>
      <h>55</h>
    </coordinates>
    <panel_attributes>camera
--
Connects to
a camera and 
publishes the 
image to a topic.
valign=top
halign=left
bg=white
layer=3</panel_attributes>
    <additional_attributes/>
  </element>
  <element>
    <id>UMLPackage</id>
    <coordinates>
      <x>1045</x>
      <y>390</y>
      <w>75</w>
      <h>120</h>
    </coordinates>
    <panel_attributes>skin
--
Connects to
an arduino 
dedicated to 
sensors and
publishes the 
statuses to a 
topic.
valign=top
halign=left
bg=white
layer=3</panel_attributes>
    <additional_attributes/>
  </element>
  <element>
    <id>UMLNote</id>
    <coordinates>
      <x>65</x>
      <y>175</y>
      <w>140</w>
      <h>320</h>
    </coordinates>
    <panel_attributes>*Legend*
-..</panel_attributes>
    <additional_attributes/>
  </element>
  <element>
    <id>UMLFrame</id>
    <coordinates>
      <x>75</x>
      <y>200</y>
      <w>120</w>
      <h>270</h>
    </coordinates>
    <panel_attributes>ros namespace
--
bg=light_gray</panel_attributes>
    <additional_attributes/>
  </element>
  <element>
    <id>UMLPackage</id>
    <coordinates>
      <x>80</x>
      <y>220</y>
      <w>110</w>
      <h>230</h>
    </coordinates>
    <panel_attributes>ros package
--
*Description*



--
*Classes*
















--
*Topics*
--
*Services*


bg=white
halign=left
valign=top
layer=3</panel_attributes>
    <additional_attributes/>
  </element>
  <element>
    <id>UMLClass</id>
    <coordinates>
      <x>260</x>
      <y>370</y>
      <w>100</w>
      <h>45</h>
    </coordinates>
    <panel_attributes>type=actclass
*ai_node.py*
--
*Methods*
    - runAI()
layer=10
bg=green
</panel_attributes>
    <additional_attributes/>
  </element>
  <element>
    <id>UMLHierarchy</id>
    <coordinates>
      <x>485</x>
      <y>230</y>
      <w>105</w>
      <h>100</h>
    </coordinates>
    <panel_attributes>type=Package
robot_ai
	msg
	src
		AI
		Definitions
	srv
layer=5
fg=white
bg=black
</panel_attributes>
    <additional_attributes/>
  </element>
  <element>
    <id>UMLClass</id>
    <coordinates>
      <x>375</x>
      <y>365</y>
      <w>205</w>
      <h>100</h>
    </coordinates>
    <panel_attributes>*ai_services.py*
--
*Methods*
    - constructor(department, package)
    - (ServiceResponse)  on_generic_command(request)
    - service_delay
--
*Attributes*
    - string[] AvailableStrategies TODO
    - AICommunication communication
    - Strategy Strategy
    - GameTimer timer

layer=5
bg=yellow
transparency=80</panel_attributes>
    <additional_attributes/>
  </element>
  <element>
    <id>UMLClass</id>
    <coordinates>
      <x>85</x>
      <y>285</y>
      <w>100</w>
      <h>25</h>
    </coordinates>
    <panel_attributes>type=actclass
*Node_class.py*
/Launched by launch file/
layer=5
bg=green</panel_attributes>
    <additional_attributes/>
  </element>
  <element>
    <id>UMLClass</id>
    <coordinates>
      <x>85</x>
      <y>315</y>
      <w>100</w>
      <h>35</h>
    </coordinates>
    <panel_attributes>*ROS_linked_class.py*
--
/Methods/
-..


layer=5
bg=yellow
transparency=80</panel_attributes>
    <additional_attributes/>
  </element>
  <element>
    <id>Relation</id>
    <coordinates>
      <x>355</x>
      <y>380</y>
      <w>30</w>
      <h>25</h>
    </coordinates>
    <panel_attributes>lt=)-
layer=5</panel_attributes>
    <additional_attributes>20.0;20.0;40.0;20.0</additional_attributes>
  </element>
  <element>
    <id>UMLClass</id>
    <coordinates>
      <x>255</x>
      <y>490</y>
      <w>205</w>
      <h>90</h>
    </coordinates>
    <panel_attributes>*RobotAI*
--
*Methods*
    - constructor(strategyname, communicationclass)
--
*Attributes*
    - string[] AvailableStrategies TODO
    - AICommunication communication
    - Strategy Strategy
    - GameTimer timer


layer=5
transparency=5
group=2</panel_attributes>
    <additional_attributes/>
  </element>
  <element>
    <id>UMLClass</id>
    <coordinates>
      <x>85</x>
      <y>355</y>
      <w>100</w>
      <h>25</h>
    </coordinates>
    <panel_attributes>*internal_class.py*
--



layer=5
bg=white
transparency=5</panel_attributes>
    <additional_attributes/>
  </element>
  <element>
    <id>UMLClass</id>
    <coordinates>
      <x>260</x>
      <y>615</y>
      <w>150</w>
      <h>75</h>
    </coordinates>
    <panel_attributes>*Strategy*
--
*Methods*
    - void constructor(xml, actions, orders)
    - bool canContinue()
    - Task getNext()
--
*Attributes*
    - Task[] TASKS

layer=6
transparency=0
group=1</panel_attributes>
    <additional_attributes/>
  </element>
  <element>
    <id>UMLClass</id>
    <coordinates>
      <x>430</x>
      <y>615</y>
      <w>150</w>
      <h>145</h>
    </coordinates>
    <panel_attributes>*Task*
--
*Methods*
    - void constructor(xml, actions, orders)
    - void loadConditions(xml)
    - bool canContinue()
    - Task getNext()
    - TaskStatus getStatus()
    - TaskStatus getStatusEmoji()
    - void setStatus()
    - void prettyprint()
    - string __repr__()
--
*Attributes*
    - string Name
    - int Reward
    - TaskStatus status
layer=6
transparency=0
group=1</panel_attributes>
    <additional_attributes/>
  </element>
  <element>
    <id>UMLClass</id>
    <coordinates>
      <x>250</x>
      <y>470</y>
      <w>215</w>
      <h>115</h>
    </coordinates>
    <panel_attributes>lt=.
*ai.py*
-..
layer=4
bg=gray
transparency=60
group=2</panel_attributes>
    <additional_attributes/>
  </element>
  <element>
    <id>UMLClass</id>
    <coordinates>
      <x>250</x>
      <y>595</y>
      <w>340</w>
      <h>470</h>
    </coordinates>
    <panel_attributes>lt=.
*ai_classes.py*
-..
layer=4
bg=gray
transparency=60
group=1</panel_attributes>
    <additional_attributes/>
  </element>
  <element>
    <id>UMLClass</id>
    <coordinates>
      <x>260</x>
      <y>1030</y>
      <w>60</w>
      <h>25</h>
    </coordinates>
    <panel_attributes>/TaskStatus/
enum
layer=5
bg=white
group=1</panel_attributes>
    <additional_attributes/>
  </element>
  <element>
    <id>UMLClass</id>
    <coordinates>
      <x>455</x>
      <y>1030</y>
      <w>60</w>
      <h>25</h>
    </coordinates>
    <panel_attributes>/ExecutionMode/
enum
layer=5
bg=white
group=1</panel_attributes>
    <additional_attributes/>
  </element>
  <element>
    <id>UMLClass</id>
    <coordinates>
      <x>325</x>
      <y>1030</y>
      <w>60</w>
      <h>25</h>
    </coordinates>
    <panel_attributes>/ExecutionOrder/
enum
layer=5
bg=white
group=1</panel_attributes>
    <additional_attributes/>
  </element>
  <element>
    <id>UMLClass</id>
    <coordinates>
      <x>260</x>
      <y>700</y>
      <w>105</w>
      <h>45</h>
    </coordinates>
    <panel_attributes>*GameProperties*
--
*Attributes*
    - int GAME_SURATION
    - int REWARD_POINTS

layer=6
transparency=0
group=1</panel_attributes>
    <additional_attributes/>
  </element>
  <element>
    <id>UMLClass</id>
    <coordinates>
      <x>430</x>
      <y>770</y>
      <w>150</w>
      <h>130</h>
    </coordinates>
    <panel_attributes>*ActionList (Task)*
--
*Methods*
    - void constructor(xml, actions, orders)
    - int getDuration()
    - Task getNext()
    - void refreshStatus()
    - void execute()
--
*Attributes*
    - ExecutionMode executionMode
    - ExecutionOrder executionOrder
    - int Duration
    - Task[] TASKS
layer=6
transparency=0
group=1</panel_attributes>
    <additional_attributes/>
  </element>
  <element>
    <id>UMLClass</id>
    <coordinates>
      <x>260</x>
      <y>770</y>
      <w>150</w>
      <h>110</h>
    </coordinates>
    <panel_attributes>*Action (Task)*
--
*Methods*
    - void constructor(xml, actions, orders)
    - int getDuration()
    - Task getNext()
    - void refreshStatus()
    - void execute()
--
*Attributes*
    - string Ref
    - int Duration
    - Task[] TASKS
layer=6
transparency=0
group=1</panel_attributes>
    <additional_attributes/>
  </element>
  <element>
    <id>UMLClass</id>
    <coordinates>
      <x>260</x>
      <y>885</y>
      <w>150</w>
      <h>115</h>
    </coordinates>
    <panel_attributes>*Order (Task)*
--
*Methods*
    - void constructor(xml)
    - int getDuration()
    - void execute()
--
*Attributes*
    - string Ref
    - int Duration
    - Task[] TASKS
    - Message Message
    - int TimeTaken
layer=6
transparency=0
group=1</panel_attributes>
    <additional_attributes/>
  </element>
  <element>
    <id>UMLClass</id>
    <coordinates>
      <x>430</x>
      <y>910</y>
      <w>150</w>
      <h>110</h>
    </coordinates>
    <panel_attributes>*Message*
--
*Methods*
    - void constructor(xml)
    - void check_valid()
    - int, int send(communication_class)
--
*Attributes*
    - string Department
    - string Destination
    - string Command
    - TODO params
layer=6
transparency=0
group=1</panel_attributes>
    <additional_attributes/>
  </element>
  <element>
    <id>UMLClass</id>
    <coordinates>
      <x>520</x>
      <y>1030</y>
      <w>60</w>
      <h>25</h>
    </coordinates>
    <panel_attributes>/Colors/
enum
layer=5
bg=white
group=1</panel_attributes>
    <additional_attributes/>
  </element>
  <element>
    <id>UMLClass</id>
    <coordinates>
      <x>390</x>
      <y>1030</y>
      <w>60</w>
      <h>25</h>
    </coordinates>
    <panel_attributes>*Console*
Helper
layer=5
bg=white
group=1</panel_attributes>
    <additional_attributes/>
  </element>
  <element>
    <id>UMLClass</id>
    <coordinates>
      <x>475</x>
      <y>470</y>
      <w>115</w>
      <h>95</h>
    </coordinates>
    <panel_attributes>lt=.
*timer.py*
-..
layer=4
bg=gray
transparency=60
group=3</panel_attributes>
    <additional_attributes/>
  </element>
  <element>
    <id>UMLClass</id>
    <coordinates>
      <x>480</x>
      <y>490</y>
      <w>105</w>
      <h>70</h>
    </coordinates>
    <panel_attributes>*GameTimer*
--
*Methods*
    - void constructor()
    - void on_new_time()
/Subscriber to /game_timer/


layer=5
transparency=5
bg=yellow
transparency=50
group=3</panel_attributes>
    <additional_attributes/>
  </element>
  <element>
    <id>Relation</id>
    <coordinates>
      <x>290</x>
      <y>410</y>
      <w>25</w>
      <h>90</h>
    </coordinates>
    <panel_attributes>lt=)-
layer=5</panel_attributes>
    <additional_attributes>20.0;20.0;20.0;160.0</additional_attributes>
  </element>
  <element>
    <id>UMLClass</id>
    <coordinates>
      <x>685</x>
      <y>375</y>
      <w>125</w>
      <h>215</h>
    </coordinates>
    <panel_attributes>type=actclass
*ai_timer_node.py*
--
*Methods*
    - on_srv_request(req)
    - run()
    - start()
    - elapsed_time()
    - time_left()
    - is_finished()
--
*Attributes*
    - Node NODE
    - Service SERV
    - Publisher PUBL
    - int Duration
    - bool started
--
*ROS Communication*


layer=5
bg=green

group=4</panel_attributes>
    <additional_attributes/>
  </element>
  <element>
    <id>UMLClass</id>
    <coordinates>
      <x>695</x>
      <y>525</y>
      <w>100</w>
      <h>25</h>
    </coordinates>
    <panel_attributes>*Publisher*
--
/ Name : /game_timer/



layer=6
transparency=5
bg=orange
group=4</panel_attributes>
    <additional_attributes/>
  </element>
  <element>
    <id>UMLClass</id>
    <coordinates>
      <x>695</x>
      <y>555</y>
      <w>100</w>
      <h>25</h>
    </coordinates>
    <panel_attributes>*Service Server*
--
/ Name : /ai/timer/



layer=6
transparency=5
bg=orange
group=4</panel_attributes>
    <additional_attributes/>
  </element>
  <element>
    <id>UMLHierarchy</id>
    <coordinates>
      <x>805</x>
      <y>295</y>
      <w>75</w>
      <h>55</h>
    </coordinates>
    <panel_attributes>type=Package
robot_ai
	msg
	src
layer=5
fg=white
bg=black
</panel_attributes>
    <additional_attributes/>
  </element>
  <element>
    <id>UMLHierarchy</id>
    <coordinates>
      <x>95</x>
      <y>245</y>
      <w>90</w>
      <h>20</h>
    </coordinates>
    <panel_attributes>type=Package
folder structure
layer=5
fg=white
bg=black
</panel_attributes>
    <additional_attributes/>
  </element>
  <element>
    <id>UMLFrame</id>
    <coordinates>
      <x>1245</x>
      <y>555</y>
      <w>290</w>
      <h>165</h>
    </coordinates>
    <panel_attributes>helpers
--
bg=light_gray</panel_attributes>
    <additional_attributes/>
  </element>
  <element>
    <id>UMLPackage</id>
    <coordinates>
      <x>1265</x>
      <y>580</y>
      <w>75</w>
      <h>110</h>
    </coordinates>
    <panel_attributes>arduino_communication
--
Connects tu the
arduinos and
uses the home-
made protocol.


halign=left
valign=top
bg=white
layer=3</panel_attributes>
    <additional_attributes/>
  </element>
  <element>
    <id>UMLPackage</id>
    <coordinates>
      <x>930</x>
      <y>745</y>
      <w>75</w>
      <h>110</h>
    </coordinates>
    <panel_attributes>definitions
--
Holds the RViz,
URDFs, TF and
custom made
robot description
files.


halign=left
valign=top
bg=white
layer=3</panel_attributes>
    <additional_attributes/>
  </element>
</diagram>
